(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{625:function(e,t,r){"use strict";r.r(t);var s=r(18),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"vue-router-使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vue-router-使用"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Router"),r("OutboundLink")],1),e._v(" 使用")]),e._v(" "),r("h2",{attrs:{id:"起步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#起步"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("起步"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("用"),r("code",[e._v("Vue.js + Vue Router")]),e._v("创建单页应用，是非常简单的。使用"),r("code",[e._v("Vue.js")]),e._v("，我们已经可以通过组合组件来组成应用程序，当你要把"),r("code",[e._v("Vue Router")]),e._v("添加进来，我们需要做的是，将组件 (components) 映射到路由 (routes)，然后告诉"),r("code",[e._v("Vue Router")]),e._v("在哪里渲染它们。")]),e._v(" "),r("h2",{attrs:{id:"动态路由匹配"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#动态路由匹配"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("动态路由匹配"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("我们经常需要把某种模式匹配到的所有路由，全都映射到同个组件。例如，我们有一个"),r("code",[e._v("User")]),e._v("组件，对于所有"),r("code",[e._v("ID")]),e._v("各不相同的用户，都要使用这个组件来渲染。")]),e._v(" "),r("h2",{attrs:{id:"嵌套路由"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#嵌套路由"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/nested-routes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("嵌套路由"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("实际生活中的应用界面，通常由多层嵌套的组件组合而成。同样地，"),r("code",[e._v("URL")]),e._v("中各段动态路径也按某种结构对应嵌套的各层组件，例如：")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("/user/foo/profile                     /user/foo/posts\n+------------------+                  +-----------------+\n| User             |                  | User            |\n| +--------------+ |                  | +-------------+ |\n| | Profile      | |  +------------\x3e  | | Posts       | |\n| |              | |                  | |             | |\n| +--------------+ |                  | +-------------+ |\n+------------------+                  +-----------------+\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br")])]),r("h2",{attrs:{id:"编程式的导航"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#编程式的导航"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/navigation.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("编程式的导航"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("除了使用"),r("code",[e._v("<router-link>")]),e._v("创建"),r("code",[e._v("a")]),e._v("标签来定义导航链接，我们还可以借助"),r("code",[e._v("router")]),e._v("的实例方法，通过编写代码来实现。")]),e._v(" "),r("h2",{attrs:{id:"命名路由"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#命名路由"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/named-routes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("命名路由"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("有时候，通过一个名称来标识一个路由显得更方便一些，特别是在链接一个路由，或者是执行一些跳转的时候。你可以在创建"),r("code",[e._v("Router")]),e._v("实例的时候，在"),r("code",[e._v("routes")]),e._v("配置中给某个路由设置名称。")]),e._v(" "),r("h2",{attrs:{id:"命名视图"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#命名视图"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/named-views.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("命名视图"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("有时候想同时 (同级) 展示多个视图，而不是嵌套展示，例如创建一个布局，有"),r("code",[e._v("sidebar")]),e._v("(侧导航) 和"),r("code",[e._v("main")]),e._v("(主内容) 两个视图，这个时候命名视图就派上用场了。你可以在界面中拥有多个单独命名的视图，而不是只有一个单独的出口。如果"),r("code",[e._v("router-view")]),e._v("没有设置名字，那么默认为"),r("code",[e._v("default")]),e._v("。")]),e._v(" "),r("h2",{attrs:{id:"重定向和别名"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#重定向和别名"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/redirect-and-alias.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("重定向和别名"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("重定向也是通过"),r("code",[e._v("routes")]),e._v("配置来完成，下面例子是从"),r("code",[e._v("/a")]),e._v("重定向到"),r("code",[e._v("/b")]),e._v("：")]),e._v(" "),r("div",{staticClass:"language-javascript line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" router "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("VueRouter")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  routes"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" path"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/a'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" redirect"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[e._v("'/b'")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br")])]),r("h2",{attrs:{id:"路由组件传参"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#路由组件传参"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/passing-props.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("路由组件传参"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("在组件中使用"),r("code",[e._v("$route")]),e._v("会使之与其对应路由形成高度耦合，从而使组件只能在某些特定的"),r("code",[e._v("URL")]),e._v("上使用，限制了其灵活性。")]),e._v(" "),r("h2",{attrs:{id:"html5-history-模式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#html5-history-模式"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://router.vuejs.org/zh/guide/essentials/history-mode.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("HTML5 History 模式"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("code",[e._v("vue-router")]),e._v("默认"),r("code",[e._v("hash")]),e._v("模式"),r("code",[e._v("——")]),e._v("使用"),r("code",[e._v("URL")]),e._v("的"),r("code",[e._v("hash")]),e._v("来模拟一个完整的"),r("code",[e._v("URL")]),e._v("，于是当"),r("code",[e._v("URL")]),e._v("改变时，页面不会重新加载。")]),e._v(" "),r("p",[e._v("如果不想要很丑的"),r("code",[e._v("hash")]),e._v("，我们可以用路由的"),r("code",[e._v("history")]),e._v("模式，这种模式充分利用"),r("code",[e._v("history.pushState API")]),e._v("来完成"),r("code",[e._v("URL")]),e._v("跳转而无须重新加载页面。")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const router = new VueRouter({\n  mode: 'history',\n  routes: [...]\n})\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("p",[e._v("当你使用"),r("code",[e._v("history")]),e._v("模式时，"),r("code",[e._v("URL")]),e._v("就像正常的"),r("code",[e._v("url")]),e._v("，例如"),r("code",[e._v("[http://yoursite.com/user/id]")]),e._v(" ，也好看！")]),e._v(" "),r("p",[e._v("不过这种模式要玩好，还需要后台配置支持。因为我们的应用是个单页客户端应用，如果后台没有正确的配置，当用户在浏览器直接访问"),r("code",[e._v("http://oursite.com/user/id")]),e._v(" 就会返回"),r("code",[e._v("404")]),e._v("，这就不好看了。")]),e._v(" "),r("p",[e._v("所以呢，你要在服务端增加一个覆盖所有情况的候选资源：如果"),r("code",[e._v("URL")]),e._v(" 匹配不到任何静态资源，则应该返回同一个"),r("code",[e._v("index.html")]),e._v("页面，这个页面就是你"),r("code",[e._v("app")]),e._v("依赖的页面。")])])}),[],!1,null,null,null);t.default=a.exports}}]);