# 同步模式

## 单线程

### 概念

JavaScript 是一门单线程的语言，因此，JavaScript 在同一个时间只能做一件事，单线程意味着，如果在同个时间有多个任务的话，这些任务就需要进行排队，前一个任务执行完，才会执行下一个任务

### 使用单线程原因

JavaScript 的单线程，与它的用途是有很大关系，我们都知道，JavaScript 作为浏览器的脚本语言，主要用来实现与用户的交互，利用 JavaScript，我们可以实现对 DOM 的各种各样的操作，如果 JavaScript 是多线程的话，一个线程在一个 DOM 节点中增加内容，另一个线程要删除这个 DOM 节点，那么这个 DOM 节点究竟是要增加内容还是删除呢？这会带来很复杂的同步问题，因此，JavaScript 是单线程的

## 同步任务

同步任务是指在主线程上排队执行的任务，只有前一个任务执行完毕，才能继续执行下一个任务，当我们打开网站时，网站的渲染过程，比如元素的渲染，其实就是一个同步任务

```javascript
// 同步代码
/**
 * 任何函数的声明和任何变量的声明都不会压入调用栈（Call Stack）
 * 将console.log(1)压入调用栈执行，执行后移除
 * 将console.log(3)压入调用栈执行，执行后移除
 * 将a()压入调用栈执行，执行console.log(2)，将console.log(2)压入调用栈执行，执行后依次移除
 */

console.log(1);
const a = () => console.log(2);
console.log(3);
a();
/**
 * 输出结果打印
 * 1
 * 3
 * 2
 */
```

## 副作用

因为 JavaScript 是单线程，因此同个时间只能处理同个任务，所有任务都需要排队，前一个任务执行完，才能继续执行下一个任务，但是，如果前一个任务的执行时间很长，比如文件的读取操作或 ajax 操作，后一个任务就不得不等着，拿 ajax 来说，当用户向后台获取大量的数据时，不得不等到所有数据都获取完毕才能进行下一步操作，用户只能在那里干等着，严重影响用户体验
